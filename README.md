# Port Kill

一个跨平台的命令行工具，用于快速查找并终止占用指定端口的进程。

## 功能

- 🔍 自动查找占用指定端口的进程
- 💀 一键终止占用端口的进程
- 🌍 跨平台支持（Linux、macOS、Windows）
- 🎯 简单易用的命令行接口

## 安装

### 使用 go install

clone代码后，在项目根目录下执行以下命令：

```bash
go install
```

安装完成后，`portkill` 命令即可全局使用。

> **注意**: 如果安装后无法使用命令，请确保 Go 的 bin 目录（`$GOPATH/bin` 或 `$GOBIN`）已添加到 PATH 环境变量中。

### 使用方式

```bash
# 或者
portkill 8080
```

## 实现方案

### 架构设计

项目采用简洁的模块化设计：

- `main.go`: 程序入口，调用 Cobra 命令执行器
- `cmd/root.go`: 定义 CLI 命令结构和参数解析
- `cmd/kill.go`: 核心功能实现，包含端口查找和进程终止逻辑

### 跨平台实现

#### Linux / macOS

1. **查找进程**: 使用 `lsof -i :端口号 -t` 命令获取占用端口的进程 PID
2. **终止进程**: 使用 `kill -9 PID` 强制终止进程

#### Windows

1. **查找进程**: 使用 PowerShell 执行 `netstat -ano | findstr :端口号` 并提取 PID
2. **终止进程**: 使用 `taskkill /PID PID /F` 强制终止进程

### 技术栈

- **Go 1.23.2**: 主要开发语言
- **Cobra**: 命令行框架，提供优雅的 CLI 接口
- **标准库**: 使用 `os/exec` 执行系统命令，`runtime` 进行平台检测

### 工作流程

```
用户输入端口号
    ↓
检测操作系统类型
    ↓
执行平台特定的查找命令
    ↓
提取进程 PID
    ↓
执行平台特定的终止命令
    ↓
输出执行结果
```

### 错误处理

- 端口未被占用时，提示用户
- 查找进程失败时，显示友好错误信息
- 终止进程失败时，显示详细错误信息

## 示例

```bash
# 终止占用 3000 端口的进程
$ portkill 3000
🔍 找到进程 PID: 12345
✅ 已结束占用 3000 端口的进程 (PID: 12345)

# 端口未被占用
$ portkill 9999
⚠️ 端口 9999 没有被任何进程占用。
```

## 注意事项

- 需要足够的系统权限来终止进程
- 在 Windows 上需要 PowerShell 支持
- 在 Linux/macOS 上需要 `lsof` 命令（通常系统自带）

## License

MIT

